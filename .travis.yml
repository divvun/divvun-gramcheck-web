os: linux
dist: xenial
language: node_js
node_js:
  - "node"
install:
  - cd $TRAVIS_BUILD_DIR/msoffice
  - npm ci
script:
  - cd $TRAVIS_BUILD_DIR/msoffice
#  - npm run validate
#  - npm run lint
  - npm run build
before_deploy:
  - cd $TRAVIS_BUILD_DIR/msoffice
  - cp Manifest.xml dist/
  - cd dist
  - zip -r9 msoffice-$TRAVIS_BRANCH.zip .
  - mv msoffice-$TRAVIS_BRANCH.zip $TRAVIS_BUILD_DIR
# todo: deploy somewhere
deploy:
  skip_cleanup: true
#  on:
#    branch: master
